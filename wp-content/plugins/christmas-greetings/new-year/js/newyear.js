if(window.JSFX||(JSFX=new Object),!JSFX.createLayer){var ns4=document.layers,ie4=document.all;JSFX.objNo=0,JSFX.getObjId=function(){return"JSFX_obj"+JSFX.objNo++},JSFX.createLayer=function(t){var i=JSFX.getObjId();document.write(ns4?"<LAYER  NAME='"+i+"'>"+t+"</LAYER>":"<DIV class='tc_fireworks' id='"+i+"' style='position:fixed'>"+t+"</DIV>");var s=document.getElementById?document.getElementById(i):document.all?document.all[i]:document.layers[i];return ns4&&(s.style=s),s},JSFX.fxLayer=function(t){null!=t&&(this.el=JSFX.createLayer(t))};var proto=JSFX.fxLayer.prototype;proto.moveTo=function(t,i){this.el.style.left=t+"px",this.el.style.top=i+"px"},proto.setBgColor=function(t){this.el.style.backgroundColor=t},proto.clip=function(t,i,s,r){this.el.style.clipPath="circle(3px at center)"},ns4&&(proto.clip=function(t,i,s,r){this.el.style.clip.top=i,this.el.style.clip.left=t,this.el.style.clip.bottom=r,this.el.style.clip.right=s},proto.setBgColor=function(t){this.el.bgColor=t}),window.opera&&(proto.setBgColor=function(t){this.el.style.color=null==t?"transparent":t}),window.innerWidth?(gX=function(){return innerWidth},gY=function(){return innerHeight}):(gX=function(){return document.body.clientWidth},gY=function(){return document.body.clientHeight}),JSFX.fxLayer2=function(t){this.superC=JSFX.fxLayer,this.superC(t+"C")},JSFX.fxLayer2.prototype=new JSFX.fxLayer}JSFX.FireworkSpark=function(t,i){this.superC=JSFX.fxLayer,this.superC("*"),this.dx=4*Math.random()-2,this.dy=4*Math.random()-2,this.ay=.09,this.x=t,this.y=i,this.type=0},JSFX.FireworkSpark.prototype=new JSFX.fxLayer,JSFX.FireworkSpark.prototype.fire0=function(){var t=6.294*Math.random(),i=2*Math.random();Math.random()>.6&&(i=2),this.dx=i*Math.sin(t),this.dy=i*Math.cos(t)-2},JSFX.FireworkSpark.prototype.fire1=function(){var t=6.294*Math.random(),i=2*Math.random();this.dx=i*Math.sin(t),this.dy=i*Math.cos(t)-2},JSFX.FireworkSpark.prototype.fire2=function(){var t=6.294*Math.random();this.dx=2*Math.sin(t),this.dy=2*Math.cos(t)-2},JSFX.FireworkSpark.prototype.fire3=function(){var t=6.294*Math.random(),i=t-Math.random();this.dx=i*Math.sin(t),this.dy=i*Math.cos(t)-2},JSFX.FireworkSpark.prototype.fire4=function(){var t=6.294*Math.random(),i=Math.random()>.5?2:1;1==i&&this.setBgColor("#FFFFFF"),i-=Math.random()/4,this.dx=i*Math.sin(t),this.dy=i*Math.cos(t)-2},JSFX.FireworkSpark.prototype.fire=function(t,i,s,r){this.setBgColor(r),1==s?this.fire1():2==s?this.fire2():3==s?this.fire3():4==s?this.fire4():this.fire0(),this.x=t,this.y=i,this.moveTo(t,i)},JSFX.FireworkSpark.prototype.animate=function(t){this.dy+=this.ay,this.x+=this.dx,this.y+=this.dy,this.moveTo(this.x,this.y)},JSFX.Firework=function(t){for(window[this.id=JSFX.getObjId()]=this,this.sparks=new Array,i=0;i<t;i++)this.sparks[i]=new JSFX.FireworkSpark(-10,-10),this.sparks[i].clip(0,0,3,3),this.sparks[i].setBgColor("#00FF00");this.step=0,this.timerId=-1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.ay=.2,this.state="OFF"},JSFX.Firework.prototype.explode=function(){var t=Math.floor(5*Math.random());for(i=0;i<this.sparks.length;i++)this.sparks[i].fire(this.x,this.y,t,this.color),this.sparks[i].dx+=this.dx,this.sparks[i].dy+=this.dy},JSFX.Firework.prototype.getMaxDy=function(){for(var t=gY()-30,i=1,s=0,r=this.ay;s<t;)s+=i,i+=r;return-i},JSFX.Firework.prototype.animate=function(){if("OFF"==this.state){var t=new Array("#FF0000","#00FF00","#0000FF","#FFFF00","#FFFFFF");for(this.color=t[Math.floor(Math.random()*t.length)],this.step=0,this.x=gX()/2,this.y=gY()-10,this.dy=this.getMaxDy(),this.dx=-8*Math.random()+4,this.dy+=3*Math.random(),i=0;i<this.sparks.length;i++)this.sparks[i].moveTo(-10,-10);this.sparks[0].setBgColor(this.color),this.state="TRAVEL"}else if("TRAVEL"==this.state)this.x+=this.dx,this.y+=this.dy,this.dy+=this.ay,this.sparks[0].moveTo(this.x,this.y),this.dy>1&&(this.state="EXPLODE",this.explode());else for(this.step>40&&(this.state="OFF"),this.step++,i=0;i<this.sparks.length;i++)this.sparks[i].animate(this.step)},JSFX.Firework.prototype.start=function(){-1==this.timerId&&(this.state="OFF",this.timerId=setInterval("window."+this.id+".animate()",30))},JSFX.Firework.prototype.stop=function(){if(-1!=this.timerId){for(clearInterval(this.timerId),i=0;i<this.sparks.length;i++)this.sparks[i].moveTo(-10,-10);this.timerId=-1,this.step=0}},JSFX.FWStart=function(){JSFX.FWLoad&&JSFX.FWLoad(),myFW1.start(),myFW2.start()},myFW1=new JSFX.Firework(30),myFW2=new JSFX.Firework(30),JSFX.FWLoad=window.onload,window.onload=JSFX.FWStart;